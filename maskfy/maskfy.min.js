"use strict";class Maskfy{constructor(t){this.objectTag="string"==typeof t?t:t.tag,this.objectSize=t.size,this.objectMask=t.mask,this.objectReverse=t.reverse,this.init(this.objectTag)}init(t){document.querySelectorAll(t).forEach(t=>{this.paste(t),this.input(t),this.format(t)})}input(t){t.addEventListener("input",e=>{const s=t.value,i=s.length,a=this.objectMask||t.dataset.mask,n=a.length,o=this.objectSize||t.dataset.maskSize,l=s.replace(/\D/g,""),r=l.split(""),h=this.objectReverse||t.hasAttribute("data-mask-reverse");let p;if(i>n&&r.pop(),h){for(p in/\d/.test(r[0])&&r.length>o&&"0"===r[0]&&r.shift(),s.split(""))/\D/.test(a[n-p-1])&&r.splice(r.length-p,0,a[n-p-1]);"deleteContentBackward"===e.inputType&&(l.length<o&&r.unshift(0),/\D/.test(r[0])&&r.shift())}else{for(p in s.split(""))/\D/.test(a[p])&&r.splice(p,0,a[p]);if("deleteContentBackward"===e.inputType)for(p=r.length-1;p>=0;p--)/\D/.test(r[p])?r.pop():p=-1}t.value=r.join(""),this.responsive(t)})}paste(t){t.addEventListener("paste",t=>t.preventDefault())}format(t){const e=t.value.split(""),s=e.length;for(var i=this.objectSize||t.dataset.maskSize||0;i>s;i--)e.unshift(0);t.value="",e.map(e=>{t.value+=e;const s=new MouseEvent("input");t.dispatchEvent(s)})}responsive(t){setTimeout(()=>{t.selectionStart=t.selectionEnd=t.value.length},0)}}